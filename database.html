<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Peasants, Agriculture, and Environment in the 1st Millennium CE Italian Countryside: A Bayesian approach - 5&nbsp; The database</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./methods.html" rel="next">
<link href="./materials_zooarchaeology.html" rel="prev">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./materials_archaeobotany.html">Materials and Methods</a></li><li class="breadcrumb-item"><a href="./database.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The database</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Peasants, Agriculture, and Environment in the 1<sup>st</sup> Millennium CE Italian Countryside: A Bayesian approach</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/robertoragno/phd" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/ragno_roberto" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./literature_review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Materials and Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./materials_archaeobotany.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Archaeobotany</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./materials_zooarchaeology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Zooarchaeology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./database.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The database</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Methods</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Results</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./archaeobotany.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Archaeobotany</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zooarchaeology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Zooarchaeology</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Discussion and Conclusions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Discussion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Conclusions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Bibliography</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sites_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sites bibliography</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Custom functions</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#databases-in-archaeology" id="toc-databases-in-archaeology" class="nav-link active" data-scroll-target="#databases-in-archaeology"><span class="header-section-number">5.1</span> Databases in archaeology</a></li>
  <li><a href="#sec-environm-db" id="toc-sec-environm-db" class="nav-link" data-scroll-target="#sec-environm-db"><span class="header-section-number">5.2</span> Creating an Environmental Archaeology database</a></li>
  <li><a href="#database-storing-procedures" id="toc-database-storing-procedures" class="nav-link" data-scroll-target="#database-storing-procedures"><span class="header-section-number">5.3</span> Database storing procedures</a>
  <ul class="collapse">
  <li><a href="#general-tables" id="toc-general-tables" class="nav-link" data-scroll-target="#general-tables"><span class="header-section-number">5.3.1</span> General tables</a></li>
  <li><a href="#archaeobotany" id="toc-archaeobotany" class="nav-link" data-scroll-target="#archaeobotany"><span class="header-section-number">5.3.2</span> Archaeobotany</a></li>
  <li><a href="#zooarchaeology" id="toc-zooarchaeology" class="nav-link" data-scroll-target="#zooarchaeology"><span class="header-section-number">5.3.3</span> Zooarchaeology</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-database" class="quarto-section-identifier"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The database</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Databases are increasingly being used in archaeology to archive and collect data digitally. There are mainly two types of databases—relational and non-relational. A relational database is more appropriate for well-defined data structures which can be linked through a mutual attribute. It is built and maintained with Structured Query Language (SQL), which allows the user to interrogate the database through queries <span class="citation" data-cites="gattigliaDatabasesArchaeology2018">(<a href="references.html#ref-gattigliaDatabasesArchaeology2018" role="doc-biblioref">Gattiglia, 2018</a>)</span>. A SQL database consists of several tables containing information in columns (variables) and rows (entries). Each row is defined by an unique key. Examples of relational database management systems include—MySQL, PostgreSQL, MariaDB, Microsoft SQL Server and Oracle Database. A non-relational database (NoSQL) is advantageous in the case of unstructured data, as data is archived as a single document rather than in a table. This structure allows much more flexibility, although NoSQL databases can be harder to use by non-specialists. Among the NoSQL database management systems, MongoDB is the most widely used.</p>
<section id="databases-in-archaeology" class="level2" style="text-align:justify;" data-number="5.1">
<h2 style="text-align:justify;" data-number="5.1" class="anchored" data-anchor-id="databases-in-archaeology"><span class="header-section-number">5.1</span> Databases in archaeology</h2>
<p>Within the field of archaeology databases are used primarily for two reasons— data management and data sharing. Most archaeological excavations are presently working with databases, so that information concerning each stratigraphic unit and finds can be recorded. This also allows databases to be be linked and interact with Geographical Information Systems (GIS), enabling researchers to introduce a spatial component in their investigation.</p>
<p>In many cases, this data remains private even after the excavation results have been published, although more and more teams are making their data available to the public. The growing popularity of open data has also created a need for standardisation. Since the 1970s, researchers have been working on <em>thesauri</em> <span class="citation" data-cites="figueraDatabaseManagementDati2018">(<a href="references.html#ref-figueraDatabaseManagementDati2018" role="doc-biblioref">Figuera, 2018</a>)</span>, dictionaries and guides for the correct archiving of archaeological information (e.g.&nbsp;pottery classes, context types, chronologies, etc.). A common system of naming practices is essential for sharing, integrating and analysing data. More recently, standardised databases and repositories are being created and made openly available <span class="citation" data-cites="richardsArchivingArchaeologicalData2021 niccolucciARIADNEplusAvventuraContinua2020 kandelROCEEHOutAfrica2023 gattigliaThinkBigData2015">(<a href="references.html#ref-gattigliaThinkBigData2015" role="doc-biblioref">Gattiglia, 2015</a>; <a href="references.html#ref-kandelROCEEHOutAfrica2023" role="doc-biblioref">Kandel et al., 2023</a>; <a href="references.html#ref-niccolucciARIADNEplusAvventuraContinua2020" role="doc-biblioref">Niccolucci, 2020</a>; <a href="references.html#ref-richardsArchivingArchaeologicalData2021" role="doc-biblioref">Richards, 2021</a>)</span>.</p>
<p>Most of the archaeological databases are based on SQL, as the visual relationships between different data structures are easier to understand.</p>
</section>
<section id="sec-environm-db" class="level2" style="text-align:justify" data-number="5.2">
<h2 style="text-align:justify" data-number="5.2" class="anchored" data-anchor-id="sec-environm-db"><span class="header-section-number">5.2</span> Creating an Environmental Archaeology database</h2>
<p>An integrated database of environmental archaeological data is still absent in Italy. A first step towards the digitisation of botanical data was taken by the <a href="https://brainplants.successoterra.net">BRAIN project</a> (Botanical Records of Archaeobotany Italian Network), a census of the Italian excavations that reported archaeobotanical data <span class="citation" data-cites="mercuriPollenMacroremainsHolocene2015">(<a href="references.html#ref-mercuriPollenMacroremainsHolocene2015" role="doc-biblioref">Mercuri et al., 2015</a>)</span>. Although the website does not provide raw data, it was useful for the bibliographical research for this project. For faunal remains, a database is also missing, although a pilot project was started at the University of Siena by <span class="citation" data-cites="boscatoPropostaDiDatabase2007">Boscato et al. (<a href="references.html#ref-boscatoPropostaDiDatabase2007" role="doc-biblioref">2007</a>)</span>. The database was created using FileMaker Pro and was likely never published. More recently, in the later stages of this research, a database of Italian faunal data from 800 BCE to 800 CE has been published by <span class="citation" data-cites="schmidtovaPresentingRomAniDatData2023">Schmidtova et al. (<a href="references.html#ref-schmidtovaPresentingRomAniDatData2023" role="doc-biblioref">2023</a>)</span>.</p>
<p>The scope of this project therefore required the creation of a database containing raw environmental data. The creation of a database for this research responded to the need for a systematic approach to storing environmental data in a common format and in a way that is convenient for querying, rather than simply archiving the information. The aim is to have data readily available for exploratory data analysis in an automated process that does not require the query to be adapted and the data to be manually wrangled each time a new assemblage is added to the collection. This project uses <a href="https://mariadb.com">MariaDB</a>, a fast and stable fork of MySQL.</p>
<p>The database was structured with the creation of 21 tables. The table <code>site_list</code> is the core table, from which most of the other tables in the schema depend. The entries in the table are based on the chronology of a single assemblage. The chronology is defined both by the phase<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and by the centuries, with two columns: <code>startcentury</code> and <code>endcentury</code>. If a context has been sampled more than once, there will be as many entries as many chronologies. If a context has been sampled both for seeds and bones, the assemblage IDs will be recorded on the same entry (if the chronologies match).</p>
<table class="table">
<caption>Example of two assemblages retrieved from the same location.</caption>
<thead>
<tr class="header">
<th>Context</th>
<th>Assemblage #ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Imola, villa Clelia, 6th c.</td>
<td>15</td>
</tr>
<tr class="even">
<td>Imola, villa Clelia, 10th-11th c.</td>
<td>16</td>
</tr>
</tbody>
</table>
<p>Since the table is context based, each site has been provided with an unique ID, so that if the site has been sampled in different areas the database can be still queried using the site ID<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. In addition to the reference to the assemblages table, the table <code>site_list</code> also contains references to child tables with information about: site type, geography, altitude, coordinates, and region. The assemblages are organised in three tables, depending on the type of remain that has to be recorded in the database:</p>
<ul>
<li><p><code>plant_remains</code></p></li>
<li><p><code>faunal_remains</code></p></li>
</ul>
<p>Each entry in the assemblages tables contains information about chronology, sampling type and notes, reference to the publication, reference to the main site, and the raw data. <a href="#fig-db-schema">Figure&nbsp;<span>5.1</span></a> shows the schema with the complete list of tables in the database.</p>
<div id="fig-db-schema" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/DB_Structure.png" class="img-fluid figure-img" style="width:105.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;5.1: Schema of the database, with the table <code>site_list</code> at the core.</figcaption>
</figure>
</div>
<p>The data was stored in the database after a thorough bibliographical research of the excavated sites (with a chronology pertaining to the 1<sup>st</sup> millennium CE) where environmental analyses have been undertaken. As in most of the cases the material was retrieved from physical publications, not digitised, the process of data entry was manual and could not be automatised. A list of the publication types where data was retrieved from can be visualised in <a href="#fig-publication-type-counts">Figure&nbsp;<span>5.2</span></a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-publication-type-counts" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="database_files/figure-html/fig-publication-type-counts-1.png" class="img-fluid figure-img" width="384"></p>
<figcaption class="figure-caption">Figure&nbsp;5.2: Count of the publication types in the database.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="database-storing-procedures" class="level2" style="text-align:justify" data-number="5.3">
<h2 style="text-align:justify" data-number="5.3" class="anchored" data-anchor-id="database-storing-procedures"><span class="header-section-number">5.3</span> Database storing procedures</h2>
<p>This sub chapter reports the breakthrough of all the tables stored inside the database. The database consists of several tables, most of which are linked together as typical for a relational database. Each table will be explained in detail, along with its fields, to allow future full reproducibility of the code.</p>
<section id="general-tables" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="general-tables"><span class="header-section-number">5.3.1</span> General tables</h3>
<section id="site-features" class="level4" data-number="5.3.1.1">
<h4 data-number="5.3.1.1" class="anchored" data-anchor-id="site-features"><span class="header-section-number">5.3.1.1</span> Site features</h4>
<p>The tables listed below were created to store information concerning site features including the site main attributes, geographical features, etc.</p>
<section id="table-site_list" class="level5" data-number="5.3.1.1.1">
<h5 data-number="5.3.1.1.1" class="anchored" data-anchor-id="table-site_list"><span class="header-section-number">5.3.1.1.1</span> Table: <code>site_list</code></h5>
<p>The sites/contexts details have been stored in the master table <code>site_list</code>. This is the main table that contains the main details for each context and it is linked to other tables, that will be introduced below. The fields included in the table are:</p>
<ul>
<li><p><code>site_id</code>: a unique id for the entry, incremental and auto generated.</p></li>
<li><p><code>site_code</code>: an integer of the type <code>int(11)</code> referring to the site where the assemblage has been collected. If a site was sampled in more locations, the site will be referred by this value, but the <code>site_id</code> will be different. Note that for larger sites (<em>e.g.</em> Pompeii, Ostia, etc.) for convenience the code was attributed to each house.</p></li>
<li><p><code>site_name</code>: text field of the type <code>varchar(255)</code>, containing the name of the site. Given that the table is structured around the chronology of each assemblage, if a site was sampled in different locations or more chronologies are provided, the site name will include these pieces of information (see <a href="#sec-environm-db"><span>Section&nbsp;5.2</span></a> for an example).</p></li>
<li><p><code>site_type</code>: foreign key (linked to the table <code>site_type</code>), referring to the typology of the site where the assemblage has been collected. See <a href="#sec-site-type-db"><span>Section&nbsp;5.3.1.1.2</span></a> for details of the input values.</p></li>
<li><p><code>site_altitude</code>: an integer value reporting the altitude (in meters) of the site.</p></li>
<li><p><code>geo_feature</code>: foreign key (linked to the table <code>geo_type</code>), referring to the geography of the site where the assemblage has been collected. See <a href="#sec-geo-type-db"><span>Section&nbsp;5.3.1.1.5</span></a> for details of the input values.</p></li>
<li><p><code>culture</code>: foreign key (linked to the table <code>culture_list</code>), referring to the culture of the site where the assemblage has been collected. See <a href="#sec-culture-list-db"><span>Section&nbsp;5.3.1.1.4</span></a> for details of the input values.</p></li>
<li><p><code>region_id</code>: foreign key (linked to the table <code>regions</code>), referring to the current Italian region in which the site is located. See <a href="#sec-regions-db"><span>Section&nbsp;5.3.1.1.3</span></a> for details of the input values.</p></li>
<li><p><code>x</code>: a numeric value of the type <code>double</code> indicating the longitude at which the site is located.</p></li>
<li><p><code>y</code>: a numeric value of the type <code>double</code> indicating the latitude at which the site is located.</p></li>
<li><p><code>available_data</code>: text field of the type <code>varchar(255)</code>, describing the type of data available for the site. The values that can be entered are: <code>bot</code> = Archaeobotanical remains and <code>zoo</code> = Zooarchaeological remains. If the codes are combined, more than one type of data is available for the same context and chronology.</p></li>
<li><p><code>startcentury</code>: an integer indicating the first century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>-2</code>.</p></li>
<li><p><code>endcentury</code>: an integer indicating the last century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>1</code>.</p></li>
<li><p><code>bot</code>: foreign key (linked to the table <code>plant_remains</code>). The input value is the <code>uuid</code> (unique id) of the archaeobotanical assemblage.</p></li>
<li><p><code>zoo</code>: foreign key (linked to the table <code>faunal_remains</code>). The input value is the <code>uuid</code> (unique id) of the zooarchaeological assemblage.</p></li>
</ul>
</section>
<section id="sec-site-type-db" class="level5" data-number="5.3.1.1.2">
<h5 data-number="5.3.1.1.2" class="anchored" data-anchor-id="sec-site-type-db"><span class="header-section-number">5.3.1.1.2</span> Table: <code>site_type</code></h5>
<p>The table <code>site_type</code> is linked to the <code>site_list</code> table and consists of two fields:</p>
<ul>
<li><p><code>type_id</code>: a unique id for the site type, incremental and auto generated.</p></li>
<li><p><code>type_name</code>: text field describing the site type.</p></li>
</ul>
<div id="tbl-site-type-db" class="anchored">
<table class="table">
<caption>Table&nbsp;5.1: The table <code>site_type</code>. The values in the field <code>type_id</code> are inserted in the <code>site_list</code> table to indicate the site typology from which the assemblage has been collected.</caption>
<thead>
<tr class="header">
<th>type_id</th>
<th>type_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Rural</td>
</tr>
<tr class="even">
<td>2</td>
<td>Urban</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Castrum</td>
</tr>
<tr class="even">
<td>4</td>
<td>Castle</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Necropolis</td>
</tr>
<tr class="even">
<td>6</td>
<td>Rural site, <em>villa</em></td>
</tr>
<tr class="odd">
<td>7</td>
<td>Religious</td>
</tr>
<tr class="even">
<td>8</td>
<td>Rural site, <em>mansio</em></td>
</tr>
<tr class="odd">
<td>9</td>
<td>Religious, monastery</td>
</tr>
<tr class="even">
<td>10</td>
<td>Shipwreck</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Urban, amphitheater</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="sec-regions-db" class="level5" data-number="5.3.1.1.3">
<h5 data-number="5.3.1.1.3" class="anchored" data-anchor-id="sec-regions-db"><span class="header-section-number">5.3.1.1.3</span> Table: <code>regions</code></h5>
<p>The table <code>regions</code> is linked to the <code>site_list</code> table and consists of two fields:</p>
<ul>
<li><p><code>region_id</code>: a unique id for the region, incremental and auto generated.</p></li>
<li><p><code>region_name</code>: text field describing the region name.</p></li>
</ul>
<div id="tbl-regions-db" class="anchored">
<table class="table">
<caption>Table&nbsp;5.2: The table <code>regions</code>. The values in the field <code>region_id</code> are inserted in the <code>site_list</code> table to indicate the current administrative region in which the site is located. Although outside the territorial boundaries of Italy, one of the sites in the database is located in the country of San Marino and the country has been added to this table.</caption>
<thead>
<tr class="header">
<th>region_id</th>
<th>region_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Abruzzo</td>
</tr>
<tr class="even">
<td>2</td>
<td>Basilicata</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Calabria</td>
</tr>
<tr class="even">
<td>4</td>
<td>Campania</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Emilia-Romagna</td>
</tr>
<tr class="even">
<td>6</td>
<td>Friuli-Venezia Giulia</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Lazio</td>
</tr>
<tr class="even">
<td>8</td>
<td>Liguria</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Lombardia</td>
</tr>
<tr class="even">
<td>10</td>
<td>Marche</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Molise</td>
</tr>
<tr class="even">
<td>12</td>
<td>Piemonte</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Puglia</td>
</tr>
<tr class="even">
<td>14</td>
<td>Toscana</td>
</tr>
<tr class="odd">
<td>15</td>
<td>Trentino-Alto Adige/Südtirol</td>
</tr>
<tr class="even">
<td>16</td>
<td>Umbria</td>
</tr>
<tr class="odd">
<td>17</td>
<td>Valle d’Aosta</td>
</tr>
<tr class="even">
<td>18</td>
<td>Veneto</td>
</tr>
<tr class="odd">
<td>19</td>
<td>San Marino</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="sec-culture-list-db" class="level5" data-number="5.3.1.1.4">
<h5 data-number="5.3.1.1.4" class="anchored" data-anchor-id="sec-culture-list-db"><span class="header-section-number">5.3.1.1.4</span> Table: <code>culture_list</code></h5>
<p>The table <code>culture_list</code> is linked to the <code>site_list</code> table and consists of two fields:</p>
<ul>
<li><p><code>id_culture</code>: a unique id for the culture type, incremental and auto generated.</p></li>
<li><p><code>culture_type</code>: text field describing the culture of the site.</p></li>
</ul>
<div id="tbl-cultures-db" class="anchored">
<table class="table">
<caption>Table&nbsp;5.3: The table <code>culture_list</code>. The values in the field <code>id_culture</code> are inserted in the <code>site_list</code> table to indicate the culture of the context. Whenever there was uncertainty around the methodology and terminology for defining a ‘culture,’ chronological indications have been used as an alternative.</caption>
<thead>
<tr class="header">
<th>id_culture</th>
<th>culture_type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Roman</td>
</tr>
<tr class="even">
<td>2</td>
<td>Late Roman</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Lombard</td>
</tr>
<tr class="even">
<td>4</td>
<td>Byzantine</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Medieval</td>
</tr>
<tr class="even">
<td>6</td>
<td>Goth</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Early Medieval</td>
</tr>
<tr class="even">
<td>8</td>
<td>Frankish</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Norman</td>
</tr>
<tr class="even">
<td>10</td>
<td>Rethian</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="sec-geo-type-db" class="level5" data-number="5.3.1.1.5">
<h5 data-number="5.3.1.1.5" class="anchored" data-anchor-id="sec-geo-type-db"><span class="header-section-number">5.3.1.1.5</span> Table: <code>geo_type</code></h5>
<p>The table <code>geo_type</code> is linked to the <code>site_list</code> table and consists of two fields:</p>
<ul>
<li><p><code>geo_id</code>: a unique id for the geography type, incremental and auto generated.</p></li>
<li><p><code>geo_name</code>: text field describing the site geography.</p></li>
</ul>
<div id="tbl-geo-db" class="anchored">
<table class="table">
<caption>Table&nbsp;5.4: The table <code>geo_type</code>. The values in the field <code>geo_id</code> are inserted in the <code>site_list</code> table to indicate the geography of the site.</caption>
<thead>
<tr class="header">
<th>geo_id</th>
<th>geo_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Plain</td>
</tr>
<tr class="even">
<td>2</td>
<td>Coast</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Hill</td>
</tr>
<tr class="even">
<td>4</td>
<td>Mountain</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Hilltop</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-macroregions_list" class="level5" data-number="5.3.1.1.6">
<h5 data-number="5.3.1.1.6" class="anchored" data-anchor-id="table-macroregions_list"><span class="header-section-number">5.3.1.1.6</span> Table: <code>macroregions_list</code></h5>
<p>The table <code>macroregions_list</code> consists of two fields:</p>
<ul>
<li><p><code>id_macroreg</code>: a unique id for the macroregion, incremental and auto generated.</p></li>
<li><p><code>name_macroreg</code>: text field describing the macroregion.</p></li>
</ul>
<p>This table is not connected to the <code>site_list</code> table, as the macroregion is assigned automatically when querying the database.</p>
<div id="tbl-geo-db" class="anchored">
<table class="table">
<caption>Table&nbsp;5.5: The table <code>macroregions_list</code>. The values in the field <code>id_macroreg</code> are inserted in the <code>macroregions_join</code> table to assign each region to a macroregion.</caption>
<thead>
<tr class="header">
<th>id_macroreg</th>
<th>name_macroreg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Northern Italy</td>
</tr>
<tr class="even">
<td>2</td>
<td>Central Italy</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Southern Italy</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-macroregions_join" class="level5" data-number="5.3.1.1.7">
<h5 data-number="5.3.1.1.7" class="anchored" data-anchor-id="table-macroregions_join"><span class="header-section-number">5.3.1.1.7</span> Table: <code>macroregions_join</code></h5>
<p>The table macroregions_join is a joining table of the tables regions and macroregions_list. It consists of two fields:</p>
<ul>
<li><p><code>id_macroregion</code>: foreign key linked to the table <code>macroregions_list</code> through the <code>id_macroreg</code> field.</p></li>
<li><p><code>id_region</code>: foreign key linked to the table <code>regions</code> through the <code>region_id</code> field.</p></li>
</ul>
<p>The macroregions have been divided as in <a href="#tbl-macroregions-db-join">Table&nbsp;<span>5.6</span></a>.</p>
<div id="tbl-macroregions-db-join" class="anchored">
<table class="table">
<caption>Table&nbsp;5.6: Macroregions of Italy.</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Macroregion name</th>
<th>Regions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Northern Italy</td>
<td>(5) Emilia-Romagna, (6) Friuli-Venezia Giulia, (8) Liguria, (9) Lombardia, (12) Piemonte, (15) Trentino-Alto Adige/Südtirol, (17) Valle d’Aosta, (18) Veneto, (19) San Marino</td>
</tr>
<tr class="even">
<td>Central Italy</td>
<td>(7) Lazio, (10) Marche, (14) Toscana, (16) Umbria</td>
</tr>
<tr class="odd">
<td>Southern Italy</td>
<td>(1) Abruzzo, (2) Basilicata, (3) Campania, (4) Calabria, (11) Molise, (13) Puglia</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="sec-bibliography-db" class="level4" data-number="5.3.1.2">
<h4 data-number="5.3.1.2" class="anchored" data-anchor-id="sec-bibliography-db"><span class="header-section-number">5.3.1.2</span> Bibliographical tables</h4>
<p>Each assemblage stored in the database was recorded along with its reference, in two tables.</p>
<section id="table-bibliography" class="level5" data-number="5.3.1.2.1">
<h5 data-number="5.3.1.2.1" class="anchored" data-anchor-id="table-bibliography"><span class="header-section-number">5.3.1.2.1</span> Table: <code>bibliography</code></h5>
<p>The table <code>bibliography</code> is the table where the references for the assemblages in the database are stored. It consists of 7 fields:</p>
<ul>
<li><p><code>uuid_refs</code>: a unique id for the bibliographical element, incremental and auto generated.</p></li>
<li><p><code>short_ref</code>: text field of the type <code>varchar(255)</code>, which includes the short in-text reference formatted in Harvard style.</p></li>
<li><p><code>complete_ref</code>: text field of the type <code>longtext</code>, which includes the complete reference formatted in Harvard style.</p></li>
<li><p><code>author</code>: text field of the type <code>varchar(255)</code>, with the name(s) of the author(s) of the publication. The last name is provided in full, while the first name is only indicated by the first letter. For instance, Jane Doe is formatted as “Doe, J.”.</p></li>
<li><p><code>year</code>: numerical field of the type <code>int(11)</code>, which provides the year of the publication.</p></li>
<li><p><code>site_code</code>: numerical field of the type <code>int(11)</code>, which provides the code of the site, from the field <code>site_code</code> in the table <code>site_list</code>.</p></li>
<li><p><code>publication_type</code>: foreign key, linked to the table <code>bibliography_publ_type</code> (See <a href="#tbl-publ-type">Table&nbsp;<span>5.7</span></a>).</p></li>
</ul>
</section>
<section id="table-bibliography_publ_type" class="level5" data-number="5.3.1.2.2">
<h5 data-number="5.3.1.2.2" class="anchored" data-anchor-id="table-bibliography_publ_type"><span class="header-section-number">5.3.1.2.2</span> Table: <code>bibliography_publ_type</code></h5>
<p>The table <code>bibliography_publ_type</code> is linked to the <code>bibliography</code> table and consists of two fields:</p>
<ul>
<li><p><code>uuid</code>: a unique id for the publication type, incremental and auto generated.</p></li>
<li><p><code>Type</code>: text field describing the publication type.</p></li>
</ul>
<div id="tbl-publ-type" class="anchored">
<table class="table">
<caption>Table&nbsp;5.7: The table <code>bibliography_publ_type</code>. The values in the field <code>uuid</code> are inserted in the <code>bibliography</code> table (field <code>publication_type</code>) to assign a publication type to a publication.</caption>
<thead>
<tr class="header">
<th>uuid</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Book</td>
</tr>
<tr class="even">
<td>2</td>
<td>Book section</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Conference paper</td>
</tr>
<tr class="even">
<td>4</td>
<td>e-mail</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Journal article</td>
</tr>
<tr class="even">
<td>6</td>
<td>Webpage</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Report</td>
</tr>
<tr class="even">
<td>8</td>
<td>PhD Thesis</td>
</tr>
<tr class="odd">
<td>9</td>
<td>MA Thesis</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="table-periodization" class="level4" data-number="5.3.1.3">
<h4 data-number="5.3.1.3" class="anchored" data-anchor-id="table-periodization"><span class="header-section-number">5.3.1.3</span> Table: <code>Periodization</code></h4>
<p>The table <code>Periodization</code> consists of two fields:</p>
<ul>
<li><p><code>id</code>: a unique id for the chronological period, incremental and auto generated.</p></li>
<li><p><code>period</code>: text field, of the type <code>varchar(255)</code> describing the publication type.</p></li>
</ul>
<div id="tbl-periodization-codes" class="anchored">
<table class="table">
<caption>Table&nbsp;5.8: The table <code>Periodization</code>. The values in the field <code>id</code> are inserted in the tables <code>plant_chronologies</code> and <code>faunal_chronologies</code> (field <code>sample_period</code>) to assign a chronology to the assemblage.</caption>
<thead>
<tr class="header">
<th>id</th>
<th>Period</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>R</td>
</tr>
<tr class="even">
<td>2</td>
<td>LR</td>
</tr>
<tr class="odd">
<td>3</td>
<td>EMA</td>
</tr>
<tr class="even">
<td>4</td>
<td>Ma</td>
</tr>
</tbody>
</table>
</div>
<p>For further information concerning the division of the dataset into larger chronologies, see <a href="methods.html#sec-data-collection"><span>Section&nbsp;6.1</span></a>.</p>
</section>
</section>
<section id="archaeobotany" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="archaeobotany"><span class="header-section-number">5.3.2</span> Archaeobotany</h3>
<section id="macroremains" class="level4" data-number="5.3.2.1">
<h4 data-number="5.3.2.1" class="anchored" data-anchor-id="macroremains"><span class="header-section-number">5.3.2.1</span> Macroremains</h4>
<p>The process of data collection from edited publications (see <a href="#fig-publication-type-counts">Figure&nbsp;<span>5.2</span></a> for the publication types) did not present major problems in taxa comparability. The names of the plants were in fact matching across publications. However, in some cases authors could only identify the seeds’ species (<em>e.g.&nbsp;Avena sp.</em>), or it was not possible to properly identify the taxa (<em>e.g.&nbsp;Cerealia und.</em>). Specific taxa are indeed hard to identify without other elements of the plants; for this reason some taxa have been merged together in one column of the database. For instance, <em>Triticum aestivum</em> and <em>Triticum durum</em> are recorded together. Seed counts have been reported in the species column when an author reported a taxon rarely reported in other publications, rather than creating a new column for that taxon. For instance, <em>Prunus armeniaca</em> is reported in the column <em>Prunus sp.</em> In this case, the name of the identified taxon can be accessed through the <code>extra_notes</code> field. More information on the nomenclature used in this research can be found in the <a href="materials_archaeobotany.html"><span>Chapter&nbsp;3</span></a>.</p>
<section id="table-plant_remains" class="level5" data-number="5.3.2.1.1">
<h5 data-number="5.3.2.1.1" class="anchored" data-anchor-id="table-plant_remains"><span class="header-section-number">5.3.2.1.1</span> Table: <code>plant_remains</code></h5>
<p>The plant remains have been stored in the master table <code>plant_remains</code>. This is the main table that contains the absolute counts for each assemblage and it is linked to other tables, to locate the assemblage at site and chronological level. The fields included in the table are:</p>
<ul>
<li><p><code>uuid</code>: a unique id for the assemblage, incremental and auto generated.</p></li>
<li><p><code>site_code</code>: foreign key (linked to the table <code>site_list</code>) referring to the site where the assemblage has been collected. The input value is an integer of the type <code>int(11)</code>.</p></li>
<li><p><code>site_type</code>: foreign key (linked to the table <code>site_type</code>), referring to the typology of the site where the assemblage has been collected. See <a href="#sec-site-type-db"><span>Section&nbsp;5.3.1.1.2</span></a> for details of the input values.</p></li>
<li><p><code>data_valid_start</code>: an integer indicating the first century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>-2</code>.</p></li>
<li><p><code>data_valid_end</code>: an integer indicating the last century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>1</code>.</p></li>
<li><p><code>sampling_notes</code>: a text field, of the type <code>longtext</code>, that can be filled with information concerning sampling methodologies, precise location of sampling (<em>e.g.</em> a kiln, a kitchen, a wastepit, etc.), a more precise chronological range (if the author provided a datation in years rather than centuries), preservation mode (<em>e.g.</em> charred, waterlogged, etc.) and further notes that might be useful.</p></li>
<li><p><code>extra_notes</code>: a multipurpose text field, of the type <code>longtext</code>, that can be filled with information concerning first interpretation of the layer or the data from which the assemblage has been collected. The field also reports if the excavation provided other archaeobotanical material not included in this database (<em>e.g.</em> anthracological analyses), or plants that are not part of this table (<em>e.g.</em> ruderals, weeds, etc.). Finally, the field also contains the breakdown of counts that have been summarised under one column. For instance, the field <code>Cerealia</code> at times summarises cereal types that are not recorded in separate fields; cereals as <em>Triticum compactum</em> are rarely mentioned in Italian archaeobotanical reports, and if reported on a separate field it would be underrepresented.</p></li>
<li><p><code>data_usable</code>: boolean field. The value is <code>0</code> if the assemblage is not reliable (e.g.&nbsp;data too scarce, chronology too vague, etc.), but was recorded in the database as it might be useful for qualitative studies. If the value is <code>0</code> and the assemblage is hence not usable, the reason is reported in the field <code>extra_notes</code>. The value is <code>1</code> if the assemblage is reliable and it can be used quantitatively or for presence/absence analysis. Note that if the value is 0 the site will not appear in the map.</p></li>
<li><p><code>overrepresented_data</code>: a text field, of the type <code>longtext</code>, that can be filled with information regarding overrepresented taxa. This is a common occurrence in contexts as wine/olive processing areas or stocking deposits.</p></li>
<li><p><code>reference_id</code>: foreign key (linked to the table <code>bibliography</code>), referring to the bibliographical source that contained information about the assemblage. See <a href="#sec-bibliography-db"><span>Section&nbsp;5.3.1.2</span></a> for details of the input values.</p></li>
<li><p><code>volume</code>: an integer value reporting the volume (in litres) of the sample Whenever more samples from the same location and with the same chronology have been reported by the author, they have been merged together and the volume represents the total of each sample. The volumes of the individual samples are reported in the field <code>extra_notes</code>.</p></li>
<li><p><code>sampling_type</code>: foreign key (linked to the table <code>bot_sampling_type</code>), referring to the sampling methodology used by the author. See <a href="#tbl-bot-sampling-type">Table&nbsp;<span>5.9</span></a> for details of the input values.</p></li>
<li><p><code>pres_charred</code>: a binary field which takes the value of 1 if the macroremains in the assemblage are preserved by charring, 0 if the seeds were preserved any other way.</p></li>
<li><p><code>pres_mineralised</code>: a binary field which takes the value of 1 if the macroremains in the assemblage are preserved by mineralisation, 0 if the seeds were preserved any other way.</p></li>
<li><p><code>pres_waterlogged</code>: a binary field which takes the value of 1 if the macroremains in the assemblage are preserved by waterlogging, 0 if the seeds were preserved any other way.</p></li>
<li><p><code>no_of_samples</code>: an integer indicating the number of samples collected from the context recorded in the entry. As for the <code>volume</code> field, whenever more samples from the same location and with the same chronology have been reported by the author, they have been merged together.</p></li>
<li><p>Fields for the absolute counts of the taxa: <code>Triticum aestivum/durum</code>, <code>Triticum dicoccum</code>, <code>Triticum monococcum</code>, <code>Avena sp</code>, <code>Hordeum vulgare</code>, <code>Panicum milliaceum</code>, <code>Secale cereale</code>, <code>Setaria italica</code>, <code>Sorghum bicolor</code>, <code>Cerealia ind</code>, <code>Leguminosae</code>, <code>Lens culinaris</code>, <code>Pisum sativum</code>, <code>Vicia faba</code>, <code>Vicia sativa</code>, <code>Vicia sp</code>, <code>Lathyrus cicera/sativus</code>, <code>Cicer aretinum</code>, <code>Cornus mas</code>, <code>Corylus avellana</code>, <code>Ficus carica</code>, <code>Fragaria vesca</code>, <code>Juglans regia</code>, <code>Castanea sativa</code>, <code>Malus domestica</code>, <code>Olea europaea L</code>, <code>Prunus cerasus</code>, <code>Prunus avium</code>, <code>Prunus sp</code>, <code>Prunus persica</code>, <code>Prunus domestica</code>, <code>Prunus spinosa</code>, <code>Rubus fruticosus</code>, <code>Pyrus communis</code>, <code>Sambucus nigra</code>, <code>Cucumis melo</code>, <code>Vitis vinifera</code>, <code>Linum usatissimus</code>, <code>Sorbus sp</code>. The fields are of the type <code>int(11)</code> and are filled with the absolute count copied from the author’s report.</p></li>
</ul>
</section>
<section id="table-bot_sampling_type" class="level5" data-number="5.3.2.1.2">
<h5 data-number="5.3.2.1.2" class="anchored" data-anchor-id="table-bot_sampling_type"><span class="header-section-number">5.3.2.1.2</span> Table: <code>bot_sampling_type</code></h5>
<p>The table <code>bot_sampling_type</code> is linked to the <code>plant_remains</code> table and consists of two fields:</p>
<ul>
<li><p><code>sampl_id</code>: a unique id for the sampling typology, incremental and auto generated.</p></li>
<li><p><code>sampl_type</code>: text field describing the sampling methods. Other sampling types that are commonly used in archaeobotany (e.g.&nbsp;total sampling, probabilistic sampling, etc.) are not part of this table as no excavation reported using them.</p></li>
</ul>
<div id="tbl-bot-sampling-type" class="anchored">
<table class="table">
<caption>Table&nbsp;5.9: The table <code>bot_sampling_type</code> and its values. The values in the field <code>sampl_id</code> are inserted in the <code>plant_remains</code> table to indicate the sampling method used for the collection of the recorded sample (whether this was reported by the author).</caption>
<thead>
<tr class="header">
<th>sampl_id</th>
<th>sampl_type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>visual sampling</td>
</tr>
<tr class="even">
<td>2</td>
<td>vs + specified quantity</td>
</tr>
<tr class="odd">
<td>3</td>
<td>specified quantity</td>
</tr>
<tr class="even">
<td>4</td>
<td>not specified</td>
</tr>
<tr class="odd">
<td>5</td>
<td>specified variable quantity</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-plants_chronologies" class="level5" data-number="5.3.2.1.3">
<h5 data-number="5.3.2.1.3" class="anchored" data-anchor-id="table-plants_chronologies"><span class="header-section-number">5.3.2.1.3</span> Table: <code>plants_chronologies</code></h5>
<p>The table <code>plants_chronologies</code> consists of two fields:</p>
<ul>
<li><p><code>sample_id</code>: foreign key (linked to the table <code>plant_remains</code>), where the <code>sample_id</code> is the field <code>uuid</code>.</p></li>
<li><p><code>sample_period</code>: foreign key (linked to the table <code>Periodization</code>), where the <code>sample_period</code> is the field <code>id</code>.</p></li>
</ul>
<p>Information concerning the way the chronology is attributed to the assemblage can be found in the methodology chapter (<a href="methods.html#sec-data-collection"><span>Section&nbsp;6.1</span></a>).</p>
</section>
</section>
</section>
<section id="zooarchaeology" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="zooarchaeology"><span class="header-section-number">5.3.3</span> Zooarchaeology</h3>
<p>The process of data collection from edited publications did not present major issues in species comparability. In most cases, animal names were matching across publications. Whenever this was not the case, the scientific name of the species was provided, which was helpful in case of uncertainties (<em>e.g.</em> ‘Hen’ vs ‘Chicken’). Given the size of this project, not every species has been recorded in the database. Species that were not useful to the reconstruction of agricultural practices (for instance, tortoises) have been recorded in the field <code>extra_notes</code> of the table <code>faunal_remains</code>. Other species were merged together into a single column. This is the case of <em>Mollusca</em>. When authors were not certain about the classification of certain bones to the <em>species</em> level, they have been reported at the <em>genus</em> or family level. The most common occurrence is for sheep and goats, mostly reported under the <em>Caprinae</em> family, or for donkeys and horses, reported under the <em>Equus sp</em>.</p>
<section id="table-faunal_remains" class="level4" data-number="5.3.3.1">
<h4 data-number="5.3.3.1" class="anchored" data-anchor-id="table-faunal_remains"><span class="header-section-number">5.3.3.1</span> Table: <code>faunal_remains</code></h4>
<p>The animal remains have been recorded in the master table <code>faunal_remains</code>. This is the main table that contains the NISP counts from each assemblage and it is linked to other tables, to locate the assemblage at site and chronological level. The fields included in the table are:</p>
<ul>
<li><p><code>uuid</code>: a unique id for the assemblage, incremental and auto generated.</p></li>
<li><p><code>site_code</code>: foreign key (linked to the table <code>site_list</code>) referring to the site where the assemblage has been collected. The input value is an integer of the type <code>int(11)</code>.</p></li>
<li><p><code>site_type</code>: foreign key (linked to the table <code>site_type</code>), referring to the typology of the site where the assemblage has been collected. See <a href="#sec-site-type-db"><span>Section&nbsp;5.3.1.1.2</span></a> for details of the input values.</p></li>
<li><p><code>data_valid_start</code>: an integer indicating the first century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>-2</code>.</p></li>
<li><p><code>data_valid_end</code>: an integer indicating the last century covered by the assemblage. The value can be positive for CE centuries and negative for BCE centuries. For instance, if the author attributes the assemblage to the 2<sup>nd</sup> c.&nbsp;BCE to the 1<sup>st</sup> c.&nbsp;CE, the field will be filled with the value <code>1</code>.</p></li>
<li><p><code>sampling_notes</code>: a text field, of the type <code>longtext</code>, that can be filled with information concerning sampling methodologies, precise location of sampling (<em>e.g.</em> a kiln, a kitchen, a wastepit, etc.), a more precise chronological range (if the author provided a datation in years rather than centuries), and further notes that might be useful.</p></li>
<li><p><code>extra_notes</code>: a multipurpose text field, of the type <code>longtext</code>, that can be filled with information concerning first interpretation of the layer or the data from which the assemblage has been collected. The field also reports if the excavation provided other information that are not included in this database, namely—age, sex, MNI counts, etc. Finally, the field also contains the breakdown of counts that have been summarised under one column. For instance, the field <code>Mollusca</code> or ‘Unsp. birds’; some types of birds are rarely mentioned in other publications, and if reported on a separate field they would be underrepresented.</p></li>
<li><p><code>data_usable</code>: boolean field. The value is <code>0</code> if the assemblage is not reliable (e.g.&nbsp;data too scarce, chronology too vague, etc.), but was recorded in the database as it might be useful for qualitative studies. If the value is <code>0</code> and the assemblage is hence not usable, the reason is reported in the field <code>extra_notes</code>. The value is <code>1</code> if the assemblage is reliable and it can be used quantitatively. Note that if the value is 0 the site will not appear in the map.</p></li>
<li><p><code>reference_id</code>: foreign key (linked to the table <code>bibliography</code>), referring to the bibliographical source that contained information about the assemblage. See <a href="#sec-bibliography-db"><span>Section&nbsp;5.3.1.2</span></a> for details of the input values.</p></li>
<li><p><code>MNI_provided</code>: text field of the type <code>varchar(255)</code>. The value is <code>No</code> if the publication did not report MNI (minimum number of individuals) counts and <code>Yes</code> if MNI was provided.</p></li>
<li><p><code>data_type</code>: foreign key (linked to the table <code>zoo_data_type</code>) used to record which type of data the authors reported in the publication. See <a href="#tbl-zoo-data-type-codes">Table&nbsp;<span>5.10</span></a> for details of the input values.</p></li>
<li><p><code>tot_id</code>: an integer (of the type <code>int(11)</code>) that reports the number of identified bones in the assemblage.</p></li>
<li><p><code>tot_unid</code>: an integer (of the type <code>int(11)</code>) that reports the number of unidentified bones in the assemblage.</p></li>
<li><p>Fields for the NISP values of the species, reported with the scientific name: <code>Sus scrofa domesticus</code>, <code>Bos taurus</code>, <code>Ovis aries</code>, <code>Capra hircus</code>, <code>Ovis/Capra</code>, <code>Canis familiaris</code>, <code>Equus caballus</code>, <code>Equus asinus</code>, <code>Equidae</code>, <code>Sus scrofa ferus</code>, <code>Cervus elaphus</code>, <code>Dama Dama L</code>, <code>Capreolus c</code>, <code>Cervidae</code>, <code>Lepus</code>, <code>Ursus actor</code>, <code>Glis Glis</code>, <code>Vulpes vulpes L</code>, <code>Unsp birds</code>, <code>Gallus g</code>, <code>Anser a</code>, <code>Unsp fish</code>, <code>Esox lucius</code>, <code>Salmo trutta</code>, <code>Salvelinus umbla</code>, <code>Tinca Tinca</code>, <code>Mollusca</code>. The fields are of the type <code>int(11)</code> and are filled with the NISP count copied from the author’s report.</p></li>
</ul>
</section>
<section id="table-zoo_data_type" class="level4" data-number="5.3.3.2">
<h4 data-number="5.3.3.2" class="anchored" data-anchor-id="table-zoo_data_type"><span class="header-section-number">5.3.3.2</span> Table: <code>zoo_data_type</code></h4>
<p>The table <code>zoo_data_type</code> consists of two fields:</p>
<ul>
<li><p><code>uuid</code>: a unique id for the entry, incremental and auto generated.</p></li>
<li><p><code>type</code>: text field, of the type <code>varchar(255)</code> describing the data type reported in the publication.</p></li>
</ul>
<div id="tbl-zoo-data-type-codes" class="anchored">
<table class="table">
<caption>Table&nbsp;5.10: The table <code>zoo_data_type</code>. The values in the field <code>uuid</code> are inserted in the table <code>faunal_remains</code> (field <code>data_type</code>) to assign a type to the assemblage.</caption>
<thead>
<tr class="header">
<th>uuid</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>NISP</td>
</tr>
<tr class="even">
<td>2</td>
<td>NISP+BIO</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-faunal_chronologies" class="level4" data-number="5.3.3.3">
<h4 data-number="5.3.3.3" class="anchored" data-anchor-id="table-faunal_chronologies"><span class="header-section-number">5.3.3.3</span> Table: <code>faunal_chronologies</code></h4>
<p>The table <code>plants_chronologies</code> consists of three fields:</p>
<ul>
<li><p><code>sample_id</code>: foreign key (linked to the table <code>faunal_remains</code>), where the <code>sample_id</code> is the field <code>uuid</code>.</p></li>
<li><p><code>sample_period</code>: foreign key (linked to the table <code>Periodization</code>), where the <code>sample_period</code> is the field <code>id</code>.</p></li>
<li><p><code>chrono_unique_id</code>: an incremental unique primary key. It was necessary to have a distinct unique key as assemblages can range between two chronologies.</p></li>
</ul>
<p>Information concerning the way the chronology is attributed to the assemblage can be found in the methodology chapter (<a href="methods.html#sec-data-collection"><span>Section&nbsp;6.1</span></a>).</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-boscatoPropostaDiDatabase2007" class="csl-entry" role="listitem">
Boscato, P., Fronza, V., Salvadori, F., 2007. Proposta di un database per i reperti faunistici. In: Fiore, I., Malerba, G., Chilardi, S. (Eds.), Atti Del 3 <span>Convegno Nazionale</span> Di <span>Archeozoologia</span>. <span>Siracusa</span> 3-5 <span>Novembre</span> 2000. <span>Istituto Poligrafico e Zecca dello Stato</span>, <span>Roma</span>, pp. 1–14.
</div>
<div id="ref-figueraDatabaseManagementDati2018" class="csl-entry" role="listitem">
Figuera, M., 2018. <span>Database management e dati archeologici: standardizzazione e applicazione della logica fuzzy alla gestione delle fonti e delle attribuzioni tipologiche</span>. Archeologia e Calcolatori 29, 143–160.
</div>
<div id="ref-gattigliaThinkBigData2015" class="csl-entry" role="listitem">
Gattiglia, G., 2015. Think big about data: <span>Archaeology</span> and the <span>Big Data</span> challenge. Arch<span>ä</span>ologische Informationen 38, 113–124.
</div>
<div id="ref-gattigliaDatabasesArchaeology2018" class="csl-entry" role="listitem">
Gattiglia, G., 2018. <a href="https://doi.org/10.1002/9781119188230.saseas0147">Databases in <span>Archaeology</span></a>. In: López Varela, S.L. (Ed.), The <span>Encyclopedia</span> of <span>Archaeological Sciences</span>. <span>John Wiley &amp; Sons, Inc.</span>, <span>Hoboken, NJ, USA</span>, pp. 1–4.
</div>
<div id="ref-kandelROCEEHOutAfrica2023" class="csl-entry" role="listitem">
Kandel, A.W., Sommer, C., Kanaeva, Z., Bolus, M., Bruch, A.A., Groth, C., Haidle, M.N., Hertler, C., Heß, J., Malina, M., Märker, M., Hochschild, V., Mosbrugger, V., Schrenk, F., Conard, N.J., 2023. <a href="https://doi.org/10.1371/journal.pone.0289513">The <span>ROCEEH Out</span> of <span>Africa Database</span> (<span>ROAD</span>): <span>A</span> large-scale research database serves as an indispensable tool for human evolutionary studies</a>. PLOS ONE 18, e0289513.
</div>
<div id="ref-mercuriPollenMacroremainsHolocene2015" class="csl-entry" role="listitem">
Mercuri, A.M., Allevato, E., Arobba, D., Bandini Mazzanti, M., Bosi, G., Caramiello, R., Castiglioni, E., Carra, M.L., Celant, A., Costantini, L., Di Pasquale, G., Fiorentino, G., Florenzano, A., Guido, M., Marchesini, M., Mariotti Lippi, M., Marvelli, S., Miola, A., Montanari, C., Nisbet, R., Peña-Chocarro, L., Perego, R., Ravazzi, C., Rottoli, M., Sadori, L., Ucchesu, M., Rinaldi, R., 2015. Pollen and macroremains from <span>Holocene</span> archaeological sites: <span>A</span> dataset for the understanding of the bio-cultural diversity of the <span>Italian</span> landscape. Review of Palaeobotany and Palynology 218, 250–266.
</div>
<div id="ref-niccolucciARIADNEplusAvventuraContinua2020" class="csl-entry" role="listitem">
Niccolucci, F., 2020. <span>ARIADNEplus</span>: <span>L</span>’avventura continua. DigItalia 2, 88–95.
</div>
<div id="ref-richardsArchivingArchaeologicalData2021" class="csl-entry" role="listitem">
Richards, J.D., 2021. Archiving <span>Archaeological Data</span> in the <span>United Kingdom</span>. Internet Archaeology 58.
</div>
<div id="ref-schmidtovaPresentingRomAniDatData2023" class="csl-entry" role="listitem">
Schmidtova, D., King, A., Klontza Jaklova, V., Reese, D.S., Rizzetto, M., Fernandes, R., 2023. <a href="https://doi.org/10.1016/j.jasrep.2022.103764">Presenting the <span>RomAniDat</span> data community and an archaeofaunal dataset for <span>Roman Italy</span></a>. Journal of Archaeological Science: Reports 47, 103764.
</div>
</div>
</section>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>See <a href="methods.html#sec-data-collection"><span>Section&nbsp;6.1</span></a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>If the site is very large and the assemblages were numerous (e.g.&nbsp;Pompeii, Rome), the sites were recorded with different IDs.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./materials_zooarchaeology.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Zooarchaeology</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./methods.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Methods</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Roberto Ragno, PhD Candidate, Dipartimento di Ricerca e Innovazione Umanistica, Università di Bari Aldo Moro</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>